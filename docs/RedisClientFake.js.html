<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: RedisClientFake.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: RedisClientFake.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>export default class RedisClientFake {

  constructor() {

    this.channelsSubscribedTo = [];
  }

  /**
   * Register an event handler for an event
   *
   * @param {string} event - a valid [Redis]{@link https://www.npmjs.com/package/redis} Publish/Subscribe event.
   * Supported events include:
   *  message
   * @param {function} handler - function to call when the event arrives. Function will receive the channel name
   * and the message object as parameters
   */
  on(event, handler) {

    if (event === 'message') {

      this.messageHandler = handler;
    }
  }

  /**
   * Publish a message to a channel. Any event handler registered for the 'message' event will be notified.
   *
   * @param {string} channel - the channel that the message will be published to
   * @param {string} message - the message to publish to the channel
   */
  publish(channel, message) {

    const foundChannel = this.channelsSubscribedTo.find((subChannel) => {
      return subChannel === channel;
    });

    if (foundChannel &amp;&amp; this.messageHandler) {

      this.messageHandler(channel, message);
    }
  }

  /**
   * subscribe to be notified of messages published to the specified channel. You must be registered and listening
   * for 'message' events to be notified of any published events to this channel.
   *
   * @param {string} channel - channel to listen on
   */
  subscribe(channel) {

    this.channelsSubscribedTo.push(channel);
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#on">on</a></li><li><a href="global.html#publish">publish</a></li><li><a href="global.html#subscribe">subscribe</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Oct 23 2017 04:49:23 GMT-0400 (EDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
